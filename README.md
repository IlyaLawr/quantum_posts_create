# Проект: Telegram-бот для блога с веб-интерфейсом и API-админкой

**Краткое описание:**  
Данный проект реализует два приложения:

1. Telegram-бот (tg_app), который по команде `/posts` выводит список заголовков постов, а при выборе конкретного заголовка показывает текст и дату создания поста.

2. Веб-приложение (web_app) с фронтенд-интерфейсом (HTML/CSS/JS) для удобного добавления, удаления и редактирования постов, а так же с REST API для управления постами и документацией (Swagger/ReDoc).

Оба приложения запускаются параллельно из одного скрипта `main.py` который находится в папке `src`, но при необходимости их можно запустить и по отдельности.

**Установка и использование:**  
1. Клонируйте репозиторий и перейдите в папку проекта:
```bash
    git clone <https://github.com/IlyaLawr/quantum_posts_create.git>
    cd quantum_posts_create
```

2. Создайте и активируйте виртуальное окружение:
```bash
    python3 -m venv .venv
    source .venv/bin/activate # На Windows .venv\Scripts\activate
```

3. Установите зависимости:
```bash
    pip install --upgrade pip
    pip install -r requirements.txt
```

4. Создайте файл .env в корне проекта и добавьте следующие строки:
```ini
    BOT_TOKEN=Токен телеграмм бота
    WEB_APP_HOST=Адрес хоста для веб-приложения
    WEB_APP_PORT=Порт для веб приложения
```

5. Запустите файл `main.py` из папки `src`:
```bash
    cd src
    python main.py
```

FastAPI запустится на том адресе что указан в `.env`, по умолчанию это `http://127.0.0.1:8000`.

Telegram-бот начнёт опрашивать обновления и будет отвечать на команду `/posts`.


# Как пользоваться
1. Перейдите в веб-интерфейс `http://127.0.0.1:8000` или используйте API (доступно в документации Swagger/ReDoc).

2. Создайте, измените или удалите пост.

3. Откройте Telegram, отправьте команду `/posts` вашему боту.

4. Выберите заголовок — бот покажет текст и дату создания поста в актуальном состоянии.

# Структура проекта
```bash
project-root/
├── .env.example           # Пример файла с переменными окружения
├── requirements.txt       # Зависимости проекта
├── src/
│   ├── main.py            # Запуск проекта
│   ├── shared_module/     # Общие настройки и модели (ORM)
│   ├── tg_app/            # Логика Telegram-бота
│   └── web_app/           # Логика FastAPI-приложения и фронтенд
└── README.md              # Документация проекта
```

# Запуск по отдельности
Запуск производится из директории приложения.

1. Веб-интерфейс и API:
```bash
    cd web_app
    uvicorn web_app:app --reload --host 127.0.0.1 --port 8000
```

2. Telegram-бот:
```bash
    cd tg_app
    python tg_app.py
```
